{% extends "base.html" %} 
{% block content %}
<div class="container" style="vertical-align: center;">
    
    <div style="text-align:center">
    <h2>Request Log</h2>
    </div>
    <hr>
    {% if count > 0 %}

    <!--</div>-->
    <table class="table table-striped table-hover">
        <tr>
            <th>Resource</th>
            <th>Timestamp</th>
            <th>Reason</th>
            <th>Status</th>
            <th></th>
        </tr>
        {% set i = 0 %}
        {% for r in res %}
        <tr>
            
            <td style="vertical-align: middle">{{ r.name }}</td>
            <td style="vertical-align: middle">{{ timestamp[i] }}</td>
            <td style="vertical-align: middle">{{ reason[i]}}</td>
            <td style="vertical-align: middle">
                {% if status[i] == "Granted" %}
                <span class="label label-success" style="font-size: 14px">{{ status[i]}}</span>
                {% elif status[i] == "Pending" %}
                <span class="label label-warning" style="font-size: 14px">{{ status[i]}}</span>
                {% elif status[i] == "Declined" %}
                <span class="label label-danger" style="font-size: 14px">{{ status[i]}}</span>
                {% elif status[i] == "Returned" %}
                <span class="label label-primary" style="font-size: 14px">{{ status[i]}}</span>
                {% endif %}
            </td>
            <td style="vertical-align: middle">
                {% if status[i] == "Granted" %}
                    
                    <div class="btn-group" role="group">
                        <a href="{{ url_for('retresource', resid=r.id) }}" role="button" class="btn btn-primary btn-sm"><b>Return</b></a>
                    </div>
                {% endif %}
            </td>
            {% set i = i + 1 %}
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <h3>No requests logged</h3>
    {% endif %}
</div>
{% endblock %}